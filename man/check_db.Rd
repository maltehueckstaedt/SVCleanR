% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/check_db.R
\name{check_db}
\alias{check_db}
\title{Check für DB}
\usage{
check_db(test_data, werte = NULL)
}
\arguments{
\item{test_data}{Ein \code{data.frame} mit den zu prüfenden Daten.}

\item{werte}{Optional: Vektor erlaubter Hochschulnamen.
Falls \code{NULL}, wird automatisch die Liste der langen Hochschulnamen
aus der mitgelieferten SQL-Datei verwendet.}
}
\value{
Eine unsichtbare Liste mit den Elementen:
\itemize{
\item \code{agent}: Der \pkg{pointblank} Agent mit den Prüfergebnissen.
\item \code{hochschule_lang}: Vektor mit erlaubten langen Hochschulnamen.
\item \code{hochschule_kurz}: Vektor mit erlaubten Hochschulkürzeln.
\item \code{werte}: Der tatsächlich verwendete Vergleichs-Vektor für \code{hochschule}.
}

Zusätzlich wird ein HTML-Report im Viewer angezeigt.
}
\description{
Diese Funktion prüft mit \pkg{pointblank}, ob die DB
die erwarteten Spalten enthält und ob die Werte für Hochschulnamen und -kürzel
mit den in den SQL-Paketdaten hinterlegten Referenzlisten übereinstimmen.
}
\details{
Die Funktion lädt die Referenzlisten für Hochschulnamen und -kürzel aus der
Datei \code{extdata/hochschulen_namen_kuerzel.sql} des Pakets \pkg{SVCleanR}.

Folgende Checks werden durchgeführt:
\enumerate{
\item Alle erwarteten Spaltennamen sind im Datensatz vorhanden.
\item Werte in der Spalte \code{hochschule} liegen in der erlaubten Wertemenge.
\item Werte in der Spalte \code{hochschule_kurz} liegen in der erlaubten Wertemenge.
}
}
\examples{
\dontrun{
  res <- check_db(test_data)
  res$agent |> pointblank::get_agent_report()
}

}
